<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ÙÙŠØ´Ø© Ø±Ø§ØªØ¨</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; padding: 30px; background: #555; }
        .slip { background: white; border: 2px solid #000; padding: 30px; max-width: 750px; margin: 0 auto; }
        h2 { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
        
        .header-info { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; border-bottom: 1px dashed #000; padding-bottom: 15px; margin-bottom: 20px; }
        .info-row { font-size: 14px; font-weight: bold; }
        .info-row span { color: #333; font-weight: normal; }

        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 14px; }
        th, td { border: 1px solid #000; padding: 8px; text-align: center; }
        th { background: #eee; }
        
        .vac-box { background: #f9f9f9; border: 1px solid #ccc; padding: 10px; margin-bottom: 20px; font-size: 13px; }
        .net-box { text-align: center; font-size: 24px; font-weight: bold; border: 2px solid #000; padding: 10px; margin: 20px 0; background: #eef; }
        
        @media print { button, body { background: white; padding: 0; } .no-print { display: none; } }
    </style>
</head>
<body>
<div class="slip">
    <h2>Ø¨ÙŠØ§Ù† ØµØ±Ù Ø±Ø§ØªØ¨ (Pay Slip)</h2>
    
    <div class="header-info">
        <div class="info-row">Ø§Ù„Ø§Ø³Ù…: <span id="name"></span></div>
        <div class="info-row">Ø§Ù„ÙƒÙˆØ¯: <span id="code"></span></div>
        <div class="info-row">Ø§Ù„ÙˆØ¸ÙŠÙØ©: <span id="job"></span></div>
        <div class="info-row">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†: <span id="hire"></span></div>
        <div class="info-row">Ø§Ù„Ø´Ù‡Ø±: <span id="month"></span></div>
        <div class="info-row">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©: <span id="printDate"></span></div>
    </div>

    <!-- Ù…Ù„Ø®Øµ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª -->
    <div class="vac-box">
        <strong>Ø±ØµÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠ:</strong> <span id="vb">0</span> ÙŠÙˆÙ… <br>
        <strong>Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±:</strong> 
        ( <span id="va">0</span> Ø§Ø¹ØªÙŠØ§Ø¯ÙŠ + <span id="vs">0</span> Ù…Ø±Ø¶ÙŠ + <span id="vabs">0</span> ØºÙŠØ§Ø¨ ) 
        = <strong><span id="vTotal">0</span> ÙŠÙˆÙ…</strong> <br>
        <strong>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯:</strong> <span id="vRem">0</span> ÙŠÙˆÙ…
    </div>

    <table>
        <thead>
            <tr><th colspan="2">Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚Ø§Øª (+)</th><th colspan="3">Ø§Ù„Ø§Ø³ØªÙ‚Ø·Ø§Ø¹Ø§Øª (-)</th></tr>
            <tr><th>Ø§Ù„Ø¨Ù†Ø¯</th><th>Ø§Ù„Ù‚ÙŠÙ…Ø©</th><th>Ø§Ù„Ø¨Ù†Ø¯</th><th>Ø£ÙŠØ§Ù…</th><th>Ù‚ÙŠÙ…Ø©</th></tr>
        </thead>
        <tbody>
            <tr>
                <td>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ø§Ù…Ù„</td><td id="basic">0.00</td>
                <td>ØºÙŠØ§Ø¨ (Ø¨Ø¯ÙˆÙ† Ø£Ø¬Ø±)</td><td id="absD">0</td><td id="absV">0.00</td>
            </tr>
            <tr>
                <td></td><td></td>
                <td>Ø¬Ø²Ø§Ø¡Ø§Øª</td><td id="penD">0</td><td id="penV">0.00</td>
            </tr>
            <tr>
                <td></td><td></td>
                <td>ØªØ£Ø®ÙŠØ±Ø§Øª</td><td id="lateD">0</td><td id="lateV">0.00</td>
            </tr>
            <tr>
                <td></td><td></td>
                <td>Ø³Ù„Ù Ø´Ù‡Ø±ÙŠØ©</td><td colspan="2" id="loanM">0.00</td>
            </tr>
            <tr>
                <td></td><td></td>
                <td>Ø³Ù„Ù Ù…Ø³ØªØ¯ÙŠÙ…Ø©</td><td colspan="2" id="loanP">0.00</td>
            </tr>
            <tr style="background:#f9f9f9; font-weight:bold">
                <td>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ­Ù‚</td><td id="totalA">0.00</td>
                <td colspan="2">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø®ØµÙ…</td><td id="totalD">0.00</td>
            </tr>
        </tbody>
    </table>

    <div class="net-box">Ø§Ù„ØµØ§ÙÙŠ: <span id="net"></span> Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ</div>

    <div style="display:flex; justify-content:space-between; margin-top:40px">
        <div>Ù…Ø¯ÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</div>
        <div>Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©</div>
        <div>ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙ„Ù…</div>
    </div>
</div>
<div class="no-print" style="text-align:center; margin-top:20px"><button onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button></div>

<script>
    const p = new URLSearchParams(window.location.search);
    
    document.getElementById('printDate').innerText = new Date().toLocaleDateString('ar-EG');
    
    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
    document.getElementById('name').innerText = p.get('name');
    document.getElementById('code').innerText = p.get('code');
    document.getElementById('job').innerText = p.get('job');
    document.getElementById('hire').innerText = p.get('hire');
    document.getElementById('month').innerText = p.get('month');

    // Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø§Ù„ÙŠØ© (ØªÙ†Ø³ÙŠÙ‚ Ø±Ù‚Ù…ÙŠÙ†)
    document.getElementById('basic').innerText = parseFloat(p.get('basic')).toFixed(2);
    document.getElementById('totalA').innerText = parseFloat(p.get('basic')).toFixed(2);
    document.getElementById('net').innerText = parseFloat(p.get('net')).toFixed(2);
    document.getElementById('totalD').innerText = parseFloat(p.get('deduct')).toFixed(2);

    // ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®ØµÙ…
    document.getElementById('absD').innerText = p.get('absD'); 
    document.getElementById('absV').innerText = parseFloat(p.get('absV')).toFixed(2);
    
    document.getElementById('penD').innerText = p.get('penD'); 
    document.getElementById('penV').innerText = parseFloat(p.get('penV')).toFixed(2);
    
    document.getElementById('lateD').innerText = p.get('lateD'); 
    document.getElementById('lateV').innerText = parseFloat(p.get('lateV')).toFixed(2);
    
    document.getElementById('loanM').innerText = parseFloat(p.get('loanM')).toFixed(2);
    document.getElementById('loanP').innerText = parseFloat(p.get('loanP')).toFixed(2);

    // Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª
    const bal = parseFloat(p.get('bal')) || 0;
    const ann = parseFloat(p.get('ann')) || 0;
    const sick = parseFloat(p.get('sick')) || 0;
    const absDays = parseFloat(p.get('absD')) || 0;

    document.getElementById('vb').innerText = bal;
    document.getElementById('va').innerText = ann;
    document.getElementById('vs').innerText = sick;
    document.getElementById('vabs').innerText = absDays;
    
    document.getElementById('vTotal').innerText = ann + sick + absDays;
    document.getElementById('vRem').innerText = bal - ann; // Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù…Ù† Ø§Ù„Ø³Ù†ÙˆÙŠ
</script>
</body>
</html>